<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Sep 14, 2011 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title></title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20110914" />
    <meta http-equiv="Content-Language" content="en" />
                                                    
<link rel="stylesheet" type="text/css" href="/css/site%2ecss"/>
                      
        </head>
  <body class="composite">
    <div id="banner">
                                      <a href=".." id="bannerLeft">
                                                <img src="../images/softec.png" alt="SOFTEC sa" />
                </a>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                
                <div class="xleft">
        <span id="publishDate">Last Published: 14 Sep 2011</span>
                  &nbsp;| <span id="projectVersion">Version: 1.1-softec</span>
                          |                           <a href="../index.html" title="JavaScript Maven Tools">JavaScript Maven Tools</a>
        &gt;
                              <a href="./" title="Javascript Maven Plugin">Javascript Maven Plugin</a>
        &gt;
    
              </div>
            <div class="xright">                    <a href="http://softec.lu/" class="externalLink" title="SOFTEC sa">SOFTEC sa</a>
              
                
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                
                                <h5>Overview</h5>
                  <ul>
                  <li class="none">
                          <a href="../index.html" title="Introduction">Introduction</a>
            </li>
                  <li class="none">
                          <a href="../javascript-maven-plugin/development.html" title="JavaScript development">JavaScript development</a>
            </li>
                  <li class="none">
                          <a href="../javascript-maven-plugin/webapp-development.html" title="JavaScript in Webapps">JavaScript in Webapps</a>
            </li>
                  <li class="none">
                          <a href="../javascript-maven-plugin/titanium-development.html" title="Titanium development">Titanium development</a>
            </li>
                  <li class="none">
                          <a href="../javascript-maven-plugin/titanium-tutorial.html" title="Titanium tutorial">Titanium tutorial</a>
            </li>
          </ul>
                       <h5>Parent Project</h5>
                  <ul>
                  <li class="none">
                          <a href="../index.html" title="Maven tools for JavaScript developers">Maven tools for JavaScript developers</a>
            </li>
          </ul>
                                 <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                  <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                            <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
                
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>Guide to Developing Javascript in a web application using Maven<a name="Guide_to_Developing_Javascript_in_a_web_application_using_Maven"></a></h2><div class="section"><h3>Introduction<a name="Introduction"></a></h3><p>This guide is intended to assist users to support Javascript development in a Maven war projects.</p><div class="section"><h4>Folder Structure<a name="Folder_Structure"></a></h4><p>The Maven JavaScript Plugin uses the following conventions for folder structure. This is only a standard layout, not a requirement, but will keep your POM files as simple as possible.</p><div class="source"><pre>  &lt;project-root&gt;/
  |
  +- pom.xml
  |
  +- src/
  |  |
  |  +- main/
  |  |  |
  |  |  +- javascript/ (source location for Scripts)
  |  |
  |  +- test/
  |  |  |
  |  |  +- javascript/ (source location for (jsunit) test sources)
  |  |
  ...</pre></div></div><div class="section"><h4>Project Definition<a name="Project_Definition"></a></h4><p>Your project must configure some extentions to the Maven base to enable the JavaScript support. You must also setup the Maven JavaScript Plugin to run during the standard WAR lifecycle :</p><div class="source"><pre>&lt;project&gt;

  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
  &lt;groupId&gt;com.mycompany&lt;/groupId&gt;
  &lt;artifactId&gt;myexample&lt;/artifactId&gt;
  &lt;packaging&gt;javascript&lt;/packaging&gt;
  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
  &lt;name&gt;My example Javascript project&lt;/name&gt;

  &lt;build&gt;
    &lt;outputDirectory&gt;target/scripts&lt;/outputDirectory&gt;
    &lt;testOutputDirectory&gt;target/test-scripts&lt;/testOutputDirectory&gt;

    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.mojo.javascript&lt;/groupId&gt;
        &lt;artifactId&gt;javascript-maven-plugin&lt;/artifactId&gt;
        &lt;extensions&gt;true&lt;/extensions&gt;
        &lt;executions&gt;
            &lt;execution&gt;
                &lt;goals&gt;
                    &lt;goal&gt;war-package&lt;/goal&gt;
                    &lt;goal&gt;prepare-tests&lt;/goal&gt;
                    &lt;goal&gt;jsunit&lt;/goal&gt;
                    &lt;goal&gt;compress&lt;/goal&gt;
                &lt;/goals&gt;
            &lt;/execution&gt;
        &lt;/executions&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
&lt;/project&gt;</pre></div><p>The Javascript Maven Plugin handle JavaScript libraries as project dependencies, when dependency type is set to <tt>javascript</tt>. Don't forget the <tt>&lt;extensions&gt;true&lt;/extensions&gt;</tt> element to enable this feature.</p><p>Once you have your POM setup then you can build the web application in the normal way via:</p><div class="source"><pre>mvn install</pre></div></div><div class="section"><h4>Development version vs release<a name="Development_version_vs_release"></a></h4><p>During developement, you may want to keep your code readable and get most documentation and debug from the scripts that are executed. When your project gets released, you also want to compress scripts to make the javascript-based application quicker.</p><p>There is two options to support both use cases.</p><ol style="list-style-type: decimal"><li>Configure a profile for release.<p>You can configure a dedicated profile for release that will declare the &quot;compress&quot; javascript Mojo. This will reduce the size of your scripts and javascript libraries.</p></li><li>Use the inplace Mojo with a lightweight servlet engine<p>The Inplace Mojo can be used to prepare the (uncompressed) javascript application in your web application source directory. This can be used to run the webapp with the <a class="externalLink" href="http://www.mortbay.org/maven-plugin/index.html">maven jetty plugin</a>. In such a case, don't forget to exclude the src/main/webapp/sripts folder to be managed by your SCM (using <tt>.cvsignore</tt> file or <tt>svn:ignore</tt> property).</p></li></ol></div></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2011
                        <a href="http://softec.lu/">SOFTEC sa</a>.
            All Rights Reserved.      
                
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
